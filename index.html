<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Rullat</title>
    <link rel="stylesheet" href="style.css">
</head>
<body onresize="deterlength(scrolls)">
    <header>
        <h1>Rullat</h1>
        <div class="rope"></div>
    </header>
    <nav></nav>
    <main>
            <article class="scroll">
                    <div class="text-wrapper">
                        <h3>Selvitys</h3>
                        <p>
                            Tämän sivun javascript muuttaa 
                            kääröjen kokoa niide sisällön ja 
                            ruudun leveyden mukaan. 
                            (vaatii vielä hiomista)
                        </p>
                    </div>
                    <div class="roll"></div>
                    <div class="knob white"></div>
                    <div class="knob red"></div>
                </article>
        <article class="scroll">
            <div class="text-wrapper">
                <h3>Lorem Ipsum</h3>
                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. 
                    Aenean nec euismod felis. Aliquam ligula lectus, bibendum a 
                    orci quis, eleifend ornare ex. Etiam ut finibus nisi, vitae 
                    porta elit. Vivamus quis tortor dictum, pretium erat sit 
                    amet, convallis arcu. Nam quam nunc, placerat id molestie 
                    id, sodales ut orci. Praesent non quam ut orci porttitor 
                    molestie. Morbi gravida a libero quis hendrerit. Aliquam 
                    iaculis eleifend ligula, nec auctor ante tincidunt quis. 
                    Aenean id lacus pulvinar, luctus lectus non, pulvinar est. 
                    Nullam euismod aliquet arcu vel pellentesque. In efficitur 
                    enim nec lorem finibus vestibulum sed porta lacus. Aliquam 
                    tristique eros diam, vel varius dui luctus id. Etiam nec 
                    tincidunt metus. Fusce sit amet tempus dui. Suspendisse 
                    lorem ligula, fermentum ut mi non, porttitor consequat diam.
                </p>
            </div>
            <div class="roll"></div>
            <div class="knob white"></div>
            <div class="knob red"></div>
        </article>
    </main>

    <script>
        const scrolls = document.querySelectorAll('.scroll');

        function scrolltoggle(e){
            this.classList.toggle('active');
        }

        function deterlength(scrolls){

            scrolls.forEach(scroll =>{
                const text = scroll.querySelector('.text-wrapper');
                const tLenght = text.innerHTML.length*5;
                const ww = window.innerWidth;  
                const divi = 14+(tLenght*tLenght)/(ww*730);
                console.log(tLenght, ww, divi);
                scroll.style.height = `${divi}rem`;
            });

        }

        scrolls.forEach(scroll => scroll.addEventListener("click", scrolltoggle));
        deterlength(scrolls);
        document.addEventListener('change',deterlength(scrolls));
    </script>
</body>
</html>